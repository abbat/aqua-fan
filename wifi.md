# Поддержка WiFi

На данный момент ПО поддерживает минимальный набор JSON-API. Запросы делаются по протоколу http.

## Получение статуса

**Запрос**:

`GET /status`

**Ответ**:

`HTTP-200` и JSON, или код ошибки с описанием.

```
{
   "uptime" : 274043,               # время в секундах с момента загрузки контроллера
   "fans" : {
      "speed" : 23.7456446,         # текущая скорость вентиляторов в процентах (усредненная)
      "uptime" : 64031,             # время в секундах с момента запуска вентиляторов
      "items" : [                   # статистика по каждому из вентиляторов
         {
            "hirpm" : 1896,         # максимальный rpm вентилятора
            "rpm" : 449,            # текущий rpm вентилятора
            "speed" : 23.6814346,   # текущая скорость вентилятора в процентах
            "base" : 454,           # требуемый rpm вентилятора от системы управления
            "lopwm" : 13,           # значение скважности pwm ниже которого вентилятор останавливается (0 - 255)
            "hipwm" : 23,           # значение скважности pwm выше которого вентилятор запускается (0 - 255)
            "pwm" : 56              # текущее значение скважности pwm (0 - 255)
         },
         ...
      ]
   },
   "sensors" : [                     # статистика по каждому из сенсоров
      {
         "filtered" : 24.38318063,   # текущее сглаженное значение температуры
         "value" : 24.35790526,      # текущее "сырое" значение температуры
         "type" : "water",           # датчик измерения температуры воды
         "role" : "secondary",       # роль датчика (вторичный)
         "unit" : "C",               # единица измерения (°C)
         "sensor" : "MLX90614"       # наименование датчика
      },
      {
         "value" : 27.74999428,
         "role" : "primary",         # роль датчика (первичный)
         "unit" : "C",
         "type" : "ambient",         # датчик измерения температуры воздуха
         "sensor" : "MLX90614"
      },
      ...
   ],
   "ips" : [                         # список IP адресов платы
      "192.168.1.XXX",
      "2a02:2168:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX"
   ],
   "ts" : "2022-06-30T22:04:29Z"     # текущее время (UTC)
}
```

## Установка параметра

**Запрос**:

`POST /set`

**Параметры**:

* `water-temperature-base` - требуемое значение температуры в °C;
* `min-fan-speed` - минимальная скорость вентиляторов в процентах (0 - 100, не может быть больше `max-fan-speed`);
* `max-fan-speed` - максимальная скорость вентиляторов в процентах (0 - 100, не может быть меньше `min-fan-speed`);

**Ответ**:

`HTTP-200`, или код ошибки с описанием.

## Как можно помочь?

Буду рад вашим PR с расширением JSON-API и созданию полноценного веб-интерфейса управления.
